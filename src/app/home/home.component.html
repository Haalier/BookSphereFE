<section class="home" (click)="closeOnBackgroundClick($event)">
  <nav>
    <div class="home__search-bar">
      <input type="text" placeholder="Search...">
      <div class="icon__box">
        <span class="icon material-symbols-outlined">search</span>
      </div>
      <button class="home__search-btn">Search</button>
    </div>

    <button class="home__filter-btn" [class]="{'is-active': isMenuOpen}"
            (click)="$event.stopPropagation(); toggleMenu()">Filter
    </button>

    <div class="home__filter" [class]="{'is-active': isMenuOpen}" (click)="$event.stopPropagation()">
  <label>Category:</label>
  <select>
    <option value="">All Categories</option>
    <option  value="">category</option>
  </select>

  <label>Price:</label>
  <select>
    <option value="">Any Price</option>
    <option value="10">$10 or less</option>
    <option value="20">$20 or less</option>
    <option value="50">$50 or less</option>
    <option value="100">$100 or less</option>
  </select>

  <label>Rating:</label>
  <select>
    <option value="">Any Rating</option>
    <option value="1">1 star or higher</option>
    <option value="2">2 stars or higher</option>
    <option value="3">3 stars or higher</option>
    <option value="4">4 stars or higher</option>
    <option value="5">5 stars only</option>
  </select>

  <button (click)="applyFilters()">Apply Filters</button>
</div>
  </nav>
<div class="home__results">
  <p>Results: {{results}}</p>
</div>


<div class="products wrapper">
  @for (book of books; track book._id){
    <div class="product" (click)="onBook(book._id, book.slug)">
      <div class="product__image">
        <img [src]="book.photoUrl" alt="Here should be an image of book">
      </div>
      <div class="product__info">
        <h4 class="product__title">{{book.title}}</h4>
        <p class="product__author">by <i>{{book.author}}</i></p>
        <div class="product__info-bottom">
        <p class="product__category"><span class="icon material-symbols-outlined">
menu_book
</span> {{ book.category }}</p>
          <div class="product__rating-price-box">
            <app-star-rating [stars]="book.ratingsAverage"></app-star-rating>
          <p class="product__price">
        <span class="icon material-symbols-outlined">
payments
</span> {{book.price | currency:'USD':'symbol' }}</p>
          </div>
      </div>

        <div class="product__add-to-cart">
          <a href="" class="add-btn">Add to cart</a>
          <a href="" class="buy-btn">Buy now</a>
        </div>
      </div>
    </div>
  }
</div>

</section>
@if (!isLoading){
<section class="pagination">
  @if (page !== 1 && previousPage !== 1){
  <a (click)="onFirstPage()">1</a>
    <span>...</span>
  }
  @if(hasPreviousPage){
    <a (click)="onPreviousPage()">{{previousPage}}</a>
  }
  <a class="active">{{page}}</a>
  @if (hasNextPage){
  <a (click)="onNextPage()">{{nextPage}}</a>
  }
  @if (lastPage !== page && nextPage !== lastPage){
    <span>...</span>
  <a (click)="onLastPage()">{{lastPage}}</a>
  }
</section>
}
